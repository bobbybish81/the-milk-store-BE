{"version":3,"file":"app.js","sourceRoot":"","sources":["../app.ts"],"names":[],"mappings":";;;;;AAAA,sDAIiB;AAEjB,0DAAqC;AACrC,gDAAwB;AAExB,MAAM,GAAG,GAAgB,IAAA,iBAAO,GAAE,CAAC;AAEnC,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAA;AACf,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AACjD,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AAExB,GAAG;KACA,KAAK,CAAC,gBAAgB,CAAC;KACvB,GAAG,CAAC,CAAC,IAAa,EAAE,GAAa,EAAE,EAAE;IACpC,OAAO,kBAAW,CAAC,CAAC;QACpB,GAAG;aACA,SAAS,CAAC,cAAc,EAAE,kBAAkB,CAAC;aAC7C,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,kBAAW,CAAC,CAAA,CAAC;QACrB,GAAG;aACA,MAAM,CAAC,GAAG,CAAC;aACX,GAAG,EAAE,CAAC;AACX,CAAC,CAAC,CAAA;AAEJ,GAAG;KACA,KAAK,CAAC,2BAA2B,CAAC;KAClC,KAAK,CAAC,CAAC,IAAa,EAAE,GAAa,EAAE,EAAE;IACtC,MAAM,OAAO,GAAG,kBAAW,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAC1F,IAAI,CAAC,OAAO,EAAE;QACZ,OAAO,GAAG;aACP,MAAM,CAAC,GAAG,CAAC;aACX,GAAG,EAAE,CAAC;KACV;IACD,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;IACpC,OAAO,kBAAW,CAAC,CAAC;QACpB,GAAG;aACA,SAAS,CAAC,UAAU,EAAE,kBAAkB,OAAO,CAAC,EAAE,EAAE,CAAC;aACrD,SAAS,CAAC,cAAc,EAAE,kBAAkB,CAAC;aAC7C,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,kBAAW,CAAC,CAAA,CAAC;QACrB,GAAG;aACA,MAAM,CAAC,GAAG,CAAC;aACX,GAAG,EAAE,CAAC;AACX,CAAC,CAAC,CAAA;AAGJ,kBAAe,GAAG,CAAC","sourcesContent":["import express, {\n  Request,\n  Response,\n  Application,\n} from 'express';\n\nimport milkStoreDB from './database';\nimport cors from \"cors\";\n\nconst app: Application = express();\n\napp.use(cors()) \napp.use(express.urlencoded({ extended: false }));\napp.use(express.json());\n\napp\n  .route('/api/milkstore')\n  .get((_req: Request, res: Response) => {\n    return milkStoreDB ?\n    res\n      .setHeader('content-type', 'application/json')\n      .status(200)\n      .json(milkStoreDB):\n    res\n      .status(404)\n      .end(); \n  })\n\napp\n  .route('/api/milkstore/:productId')\n  .patch((_req: Request, res: Response) => {\n    const product = milkStoreDB.results.find(product => product.id === _req.params.productId);\n    if (!product) {\n      return res\n        .status(404)\n        .end(); \n    }\n    product.storage = _req.body.storage;\n    return milkStoreDB ?\n    res\n      .setHeader('location', `/api/milkstore/${product.id}`)\n      .setHeader('content-type', 'application/json')\n      .status(200)\n      .json(milkStoreDB):\n    res\n      .status(404)\n      .end(); \n  })\n\n\nexport default app;"]}